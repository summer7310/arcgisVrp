/*
 COPYRIGHT 2009 ESRI

 TRADE SECRETS: ESRI PROPRIETARY AND CONFIDENTIAL
 Unpublished material - all rights reserved under the
 Copyright Laws of the United States and applicable international
 laws, treaties, and conventions.

 For additional information, contact:
 Environmental Systems Research Institute, Inc.
 Attn: Contracts and Legal Services Department
 380 New York Street
 Redlands, California, 92373
 USA

 email: contracts@esri.com
 */
//>>built
require({cache:{"url:esri/dijit/geoenrichment/templates/BufferOptions.html":'\ufeff\x3ctbody\x3e\n    \x3ctr data-dojo-attach-point\x3d"studyAreaTr"\x3e\n        \x3ctd class\x3d"BufferOptions_StudyAreaLabel"\x3e${nls.studyArea}\x3c/td\x3e\n        \x3ctd\x3e\n            \x3cselect data-dojo-type\x3d"dijit/form/Select"\n                data-dojo-attach-point\x3d"typeSelect"\n                data-dojo-attach-event\x3d"onChange: _typeChange"\n                class\x3d"BufferOptions_TypeSelect"\x3e\n                \x3coption value\x3d"Ring"\x3e${nls.ring}\x3c/option\x3e\n                \x3coption value\x3d"DriveTime"\x3e${nls.driveTime}\x3c/option\x3e\n                \x3coption value\x3d"DriveDistance"\x3e${nls.driveDistance}\x3c/option\x3e\n            \x3c/select\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n    \x3ctr data-dojo-attach-point\x3d"radiusTr"\x3e\n        \x3ctd class\x3d"BufferOptions_RadiusLabel" data-dojo-attach-point\x3d"radiusLabel"\x3e${nls.radius}\x3c/td\x3e\n        \x3ctd class\x3d"BufferOptions_RadiusTd"\x3e\n            \x3cinput data-dojo-type\x3d"esri/dijit/geoenrichment/NumberSpinner"\n                data-dojo-attach-point\x3d"radiusSpinner"\n                data-dojo-props\x3d"intermediateChanges:true,constraints:{min:0,max:100}"\n                value\x3d"1"\n                class\x3d"BufferOptions_RadiusSpinner"\n                data-dojo-attach-event\x3d"onChange: _radiusChange" /\x3e\n            \x3cselect data-dojo-type\x3d"dijit/form/Select"\n                data-dojo-attach-point\x3d"unitsSelect"\n                data-dojo-attach-event\x3d"onChange: _unitsChange"\n                class\x3d"BufferOptions_UnitsSelect"\x3e\n            \x3c/select\x3e\n            \x3cspan data-dojo-attach-point\x3d"minutesSpan" style\x3d"display: none;"\x3e${nls.units.esriDriveTimeUnitsMinutes}\x3c/span\x3e\n        \x3c/td\x3e\n    \x3c/tr\x3e\n\x3c/tbody\x3e\n'}});
define("esri/dijit/geoenrichment/BufferOptions","../../declare dojox/mvc/Templated dojo/text!./templates/BufferOptions.html dojo/i18n!../../nls/jsapi ../../tasks/geoenrichment/RingBuffer ../../tasks/geoenrichment/DriveBuffer ../../tasks/geoenrichment/DriveUnits dijit/form/RadioButton ./NumberSpinner dijit/form/Select".split(" "),function(f,g,h,b,e,d,c){b=b.geoenrichment.dijit.BufferOptions;return f("esri.dijit.geoenrichment.BufferOptions",[g],{templateString:h,nls:b,geomType:"",_buffer:null,_ringBuffer:null,
_driveTimeBuffer:null,_driveDistBuffer:null,constructor:function(){this._ringBuffer=new e;this._driveTimeBuffer=new d;this._driveDistBuffer=new d({radius:1,units:c.MILES});this._buffer=this._ringBuffer},buildRendering:function(){this.inherited(arguments);this._updateUI()},_setGeomTypeAttr:function(a){switch(a){case "point":this.radiusTr.style.display=this.studyAreaTr.style.display="";break;case "polyline":this.studyAreaTr.style.display="none";this.radiusTr.style.display="";this.radiusLabel.innerHTML=
b.buffer;break;case "polygon":this.radiusTr.style.display=this.studyAreaTr.style.display="none",this.radiusLabel.innerHTML=b.buffer}this.geomType=a},_getBufferAttr:function(){return this._buffer},_setBufferAttr:function(a){if(this._buffer!==a){if(a instanceof e)this._ringBuffer=a;else if(a instanceof d)a.units==c.MINUTES?this._driveTimeBuffer=a:this._driveDistBuffer=a;else throw"Unexpected buffer type";this._buffer=a;this._updateUI();this._onChange()}},_updateUI:function(){var a;this._buffer instanceof
e?a="Ring":this._buffer instanceof d&&(a=this._buffer.units==c.MINUTES?"DriveTime":"DriveDistance");this.typeSelect.set("value",a);this.radiusSpinner.set("value",this._buffer.radii[0]);this._updateUnits()},_typeChange:function(){switch(this.typeSelect.get("value")){case "Ring":this.set("buffer",this._ringBuffer);this.radiusLabel.innerHTML=b.radius;break;case "DriveTime":this.set("buffer",this._driveTimeBuffer);this.radiusLabel.innerHTML=b.time;break;case "DriveDistance":this.set("buffer",this._driveDistBuffer),
this.radiusLabel.innerHTML=b.distance}},_updateUnits:function(){this.unitsSelect.removeOption(this.unitsSelect.getOptions());"DriveTime"==this.typeSelect.get("value")?(this.minutesSpan.style.display="",this.unitsSelect.domNode.style.display="none"):(this.minutesSpan.style.display="none",this.unitsSelect.domNode.style.display="",this._addOption(c.MILES),this._addOption(c.KILOMETERS),this._addOption(c.FEET),this._addOption(c.METERS));this.unitsSelect.set("value",this._buffer.units)},_addOption:function(a){this.unitsSelect.addOption({value:a,
label:b.units[a]})},_unitsChange:function(){var a=this.unitsSelect.get("value");a&&(this._buffer.units=a);this._onChange()},_radiusChange:function(){this.radiusSpinner.isValid()?(this._buffer.radii=[this.radiusSpinner.get("value")],this._onChange()):this._onError()},_onChange:function(){this.onChange()},onChange:function(){},_onError:function(){this.onError()},onError:function(){}})});